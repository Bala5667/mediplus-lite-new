pipeline {
    agent any

    environment {
        DOCKER_IMAGE = 'balaji5667/mediplus-lite'  // Docker image name
        PROJECT_DIR = 'C:\\ProgramData\\Jenkins\\.jenkins\\jobs\\css+html+ docker build\\workspace\\mediplus-lite'
    }

    stages {
        stage('Build Docker Image') {
            steps {
                script {
                    dir("${env.PROJECT_DIR}") {               // Go into project folder
                        bat "docker build -t ${env.DOCKER_IMAGE} -f ${env.PROJECT_DIR}\\Dockerfile ${env.PROJECT_DIR}"
                    }
                }
            }
        }
    }

    post {
        always {
            echo "âœ… Docker build stage completed"
        }
    }
}
